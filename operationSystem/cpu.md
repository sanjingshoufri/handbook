# CPU
## 概念
- 内存层次体系
- 虚拟内存

## 微架构
- 指令设置架构
	- 指令设置
		- 软件与硬件沟通
	- 指令设置架构
		- 定义了软件与硬件之间的契约
	- 架构的用途分类
		- 基于注册器，加载存储
			- 操作数显示定义
			- 内存只通过加载和存储指令访问
- 管道
    - 指令处理的6个步骤
	    - IF
	    - ID
	    - EXE
		    - Execute
	    - MEM
		    - Memory access
	    - WB
		    - Write Back
		    - 
	- 三种冒险
		- 结构危险
			- 资源冲突
		- 数据危险
	        - 数据依赖
			- 分类
				- 写后读
				- 读后写
				- 写后写
		- 控制危险
			- 项目流改变
			- 
- 使用指令级别的并行
	- OOO执行
	- 超标量机器和VLIW
	- 
- 使用线程级别并行
- SIMD
	- 在一个单周期内，一个单指令操作在许多数据元素上，使用很多独立的函数单元
	- 

## 现代CPU设计
- CPU前端
	- 从内存中取出和解码指令
	- 将准备好的指令送给后端
		- 为真实的指令执行做准备
	- 每个x86指令周期内，从L1 I-cache中取16个字节
		- 这个在两个线程之间共享
			- 所以每个线程在另外每个周期内获取16个字节
    - 管道的预解码和解码阶段
	    - 预解码通过检查指令判断和标记变量指令的边界
	    - 在x86中，指令的长度范围是1字节-15字节
	    - 验证分支指令
	    - 指令队列也支持
	    - 
- CPU后端
	- 

## 性能监控单元


## 单指令处理器