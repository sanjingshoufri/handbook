# 概述
- 生产者
- 消费者
- 队列
	- 存储消息的场所
- 交换机			

# 交换机
## 概述
- 在消息进入队列之前，进行一个转发操作
	- 转发的数量关系，并非是1对1，交换机具有复制消息的能力
- 路由key
	- 一种消息属性，消息属于哪个key

## 交换机的类型
- direct
	- 处理路由键
	- 需要将一个队列绑定在交换机上
- fanout
	- 不处理路由键
- topic
- headers 
	- 

# 队列
- 调度模式
	- 公平分发
		- RabbitMQ顺序发送消息给消费者，每个消费者大体上得到相同数量的消息
	- Round-robin 
		- 轮询调度
		- 设置prefetch_count=1，让消费者不同时处理多个消息		

# 发布/订阅
- 一个消息传递给多个消费者
- 消息模型
	- 生产者只能发布消息到交换机
- 无论任何时候，我们连接到Rabbit，需要一个新的、空的队列
	- 为了实现，我们创建一个随机名字的队列
- 一旦消费者连接断开后，队列应该被删除
- 绑定
	- 交换机和队列之间的关联
- 路由
	- 直接交换			

# 作用
- 进程间的通信		
	- 应用解耦
		- 应用之间依赖的数据，写到队列中，由依赖的部分自由请求	
- 流量销峰
	- 将请求写入到消息队列中，然后服务器按照自己的消化能力去队列中取数据执行
- 异步
	- 将不重要的业务或者非·	实时的业务异步执行		