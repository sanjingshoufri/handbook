# 概念
- 结点
	- 

- 队列
	- 存储消息的场所
	- 队列只被主机内存和硬盘限制所绑定	
	- 类别
		- 工作队列
			- 作用
				- 分发一些耗时的任务
				- 避免实时做资源密集型的任务
					- 避免等它完成
			- 实现
				- 封装一个任务作为消息，发送到队列
				- 运行在后台的工人进程将会弹出这个进程，然后执行它

- Exchange(交换机)
	- 在消息进入队列之前，进行一个转发操作
		- 转发的数量关系，并非是1对1，交换机具有复制消息的能力
	- 交换机的类型
		- direct
			- 处理路由键
			- 需要将一个队列绑定在交换机上
		- topic
		- headers 
		- fanout
			- 不处理路由键

- 数据结构
	- FIFO

# 概述
- 传输
	- 消息应答机制
		- 当消息没有被消费者接收而产生的处理机制
			- 只有当消费者返回一个ACK给RabbitMQ，然后RabbitMQ才会删掉这个消息
			- 消息没有超时设置，ACK默认关闭

- 存储
	- 消息持久化
		- 保存消息到硬盘，队列和消息都需要设置
		- 但是这个持久化，并不是强持久化，因为这个过程里面有个时间窗口

- 调度模式
	- 公平分发
		- RabbitMQ顺序发送消息给消费者，每个消费者大体上得到相同数量的消息

	- Round-robin 
		- 轮询调度
		- 设置prefetch_count=1，让消费者不同时处理多个消息

- 发布/订阅
	- 一个消息传递给多个消费者
	- 消息模型
		- 生产者只能发布消息到交换机
	- 无论任何时候，我们连接到Rabbit，需要一个新的、空的队列
		- 为了实现，我们创建一个随机名字的队列
	- 一旦消费者连接断开后，队列应该被删除
	- 绑定
		- 交换机和队列之间的关联
	- 路由
		- 直接交换
		- 

# 应用场景
- 应用解耦
	- 应用之间依赖的数据，写到队列中，由依赖的部分自由请求
- 流量销峰
	- 将请求写入到消息队列中，然后服务器按照自己的消化能力去队列中取数据执行
- 异步
	- 将不重要的业务或者非实时的业务异步执行

# 网络架构
- 建立在TCP连接上

## 应用
- 高可用
	- 消息队列肯定不能是单机的，如果单机的消息队列挂了，那整个系统便不可用了		